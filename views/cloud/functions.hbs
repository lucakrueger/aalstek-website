<div class="flex flex-col h-full content-nav">
    <div class="w-full flex flex-row items-end">
        <div id="toolbar" class="invisible">
            <bx-btn kind="ghost" class="text-green-600">Start</bx-btn>
            <bx-btn kind="ghost" class="text-red-600">Stop</bx-btn>
            <bx-btn kind="ghost" class="">Delete</bx-btn>
        </div>
        
        <bx-btn kind="ghost" class="ml-auto">Options</bx-btn>
        <bx-btn class="">New</bx-btn>
    </div>

    <bx-data-table class="basis-1/3">
        <bx-table>
            <bx-table-head>
                <bx-table-header-row>
                    <bx-table-header-cell>
                        <bx-checkbox x-data="" x-on:click="if($event.pointerId > 0) { selectAll($event); checkAnySelected() }" name="all"></bx-checkbox>
                    </bx-table-header-cell>
                    <bx-table-header-cell>Name</bx-table-header-cell>
                    <bx-table-header-cell>Type</bx-table-header-cell>
                    <bx-table-header-cell>Category</bx-table-header-cell>
                    <bx-table-header-cell>Status</bx-table-header-cell>
                    <!--<bx-table-header-cell>Action</bx-table-header-cell>-->
                    <bx-table-header-cell></bx-table-header-cell>
                </bx-table-header-row>
            </bx-table-head>
            <bx-table-body>
                {{#each functions}}
                    <bx-table-row class="function" name="{{this.name}}">
                        <bx-table-cell>
                            <bx-checkbox name="{{this.name}}" x-data="" x-on:click="if($event.pointerId > 0) { checkAnySelected() }"></bx-checkbox>
                        </bx-table-cell>
                        <bx-table-cell class="font-semibold">{{this.name}}</bx-table-cell>
                        <bx-table-cell>{{this.type}}</bx-table-cell>
                        <bx-table-cell>{{this.category}}</bx-table-cell>
                        <bx-table-cell>{{this.status}}</bx-table-cell>
                        <!--<bx-table-cell class="text-red-600 hover:underline decoration-solid hover:cursor-pointer">Stop</bx-table-cell>-->
                        {{#if this.active}}
                            <bx-table-cell>Opened</bx-table-cell>
                        {{else}}
                            <bx-table-cell>
                                <!--<bx-btn size="sm" href="{{this.baseurl}}/{{this.name}}">Open</bx-btn> -->
                                <bx-btn size="sm" href="{{../baseurl}}/{{../projectid}}/functions/{{this.name}}">Open</bx-btn>
                            </bx-table-cell>
                        {{/if}}
                    </bx-table-row>
                {{/each}}

                <bx-table-row>
                    <bx-table-cell>
                        
                    </bx-table-cell>
                    <bx-table-cell class="font-semibold" spellcheck="false" contenteditable>NewFunction</bx-table-cell>
                    <bx-table-cell>
                        <bx-select placeholder="Type">
                            <bx-select-item value="public">Public</bx-select-item>
                            <bx-select-item value="private">Private</bx-select-item>
                        </bx-select>
                    </bx-table-cell>
                    <bx-table-cell spellcheck="false" contenteditable>Unspecified</bx-table-cell>
                    <bx-table-cell></bx-table-cell>
                    <!--<bx-table-cell class="text-red-600 hover:underline decoration-solid hover:cursor-pointer">Stop</bx-table-cell>-->
                    <bx-table-cell>
                        <!--<bx-btn size="sm" href="{{this.baseurl}}/{{this.name}}">Open</bx-btn> -->
                        <bx-btn size="sm" href="{{baseurl}}/{{projectid}}/functions/{{this.name}}">Save</bx-btn>
                    </bx-table-cell>
                </bx-table-row>
            </bx-table-body>
        </bx-table>
    </bx-data-table>
</div>

<script src="/scripts/functions.js"></script>

{{#if functionid}}
    <!-- <wc-monaco-editor config="/config/monaco.json" class="basis-1/2 h-4/5 mt-4"></wc-monaco-editor> -->
    <div id="monaco" function="{{functionid}}" class="basis-1/2 h-4/5 mt-4 h-full"></div>
    <script src="/scripts/editor.js"></script>
{{/if}}